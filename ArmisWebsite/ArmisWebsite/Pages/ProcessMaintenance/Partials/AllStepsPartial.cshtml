@model List<Armis.BusinessModels.ProcessModels.StepModel>

<h5>All Steps</h5>
<ul id="sortableAllSteps" class="list-group" style="max-height:42em; overflow:scroll;">
    @foreach (var step in Model)
    {
        <li class="list-group-item" id="allStep-@step.StepId">
            <h5>
                <i class="fa fa-arrows-alt handle"></i>
                <a data-toggle="collapse" href="#allStepDetails-@step.StepId">@step.StepName</a>
            </h5>
            <div id="allStepDetails-@step.StepId" class="collapse">
                <div class="card card-body">
                    @if (step.SignOffIsRequired == true)
                    {<p class="text-danger">Sign-Off Required</p>}
                    <b>Instructions: </b>@step.Instructions
                </div>
            </div>
        </li>
    }
</ul>

<script>
    new Sortable(sortableAllSteps,
        {
            group: {
                name: 'steps',
                pull: 'clone'
            },
            handle: '.handle',
            animation: 150,
            ghostClass: 'bg-warning',
            sort: false,
            onAdd: function (evt) {
                var el = evt.item;
                el.parentNode.removeChild(evt.item);
            }
        });
</script>